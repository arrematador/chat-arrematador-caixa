<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comparativo V2 vs V3 Mobile - Chat Widget</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        h1 {
            color: white;
            text-align: center;
            margin-bottom: 10px;
            font-size: 24px;
        }
        
        .subtitle {
            color: #94a3b8;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .comparison {
            display: flex;
            gap: 40px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .version {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        .version-label {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
        }
        
        .badge.old {
            background: #ef4444;
            color: white;
        }
        
        .badge.new {
            background: #10b981;
            color: white;
        }
        
        .version-name {
            color: white;
            font-weight: 600;
            font-size: 18px;
        }
        
        .phone-frame {
            background: #0f0f23;
            border-radius: 45px;
            padding: 12px;
            box-shadow: 0 25px 60px rgba(0,0,0,0.5);
        }
        
        .phone-screen {
            width: 375px;
            height: 812px;
            background: #f5f5f5;
            border-radius: 35px;
            overflow: hidden;
            position: relative;
        }
        
        .notch {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 34px;
            background: #0f0f23;
            border-radius: 0 0 20px 20px;
            z-index: 50;
        }
        
        .home-bar {
            position: absolute;
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 134px;
            height: 5px;
            background: #333;
            border-radius: 3px;
            z-index: 50;
        }
        
        .page-bg {
            height: 100%;
            background: white;
            padding: 50px 15px 30px;
            overflow-y: auto;
        }
        
        .page-header {
            font-size: 12px;
            color: #64748b;
            margin-bottom: 10px;
        }
        
        .page-title {
            font-size: 16px;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 8px;
        }
        
        .page-price {
            font-size: 24px;
            font-weight: 700;
            color: #f97316;
            margin-bottom: 15px;
        }
        
        .page-info {
            background: #f8fafc;
            padding: 10px 12px;
            border-radius: 8px;
            margin-bottom: 8px;
            font-size: 12px;
            color: #475569;
        }
        
        /* Widget V2 simulado */
        .widget-v2 {
            position: absolute;
            bottom: 20px;
            right: 20px;
        }
        
        .widget-v2 .toggle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #f97316;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(249,115,22,0.4);
            cursor: pointer;
            font-size: 24px;
            color: white;
        }
        
        .widget-v2 .chat-open {
            position: fixed;
            bottom: 70px;
            right: -20px;
            width: 100%;
            height: calc(100% - 80px);
            background: white;
            border-radius: 16px 16px 0 0;
            box-shadow: 0 -5px 30px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
        }
        
        /* Widget V3 simulado */
        .widget-v3 {
            position: absolute;
            bottom: 16px;
            right: 16px;
        }
        
        .widget-v3 .toggle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #f97316;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(249,115,22,0.4);
            cursor: pointer;
            font-size: 24px;
            color: white;
        }
        
        .widget-v3 .chat-open {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
            background: white;
            display: flex;
            flex-direction: column;
        }
        
        .chat-header {
            background: #f97316;
            color: white;
            padding: 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .chat-header.v3 {
            padding-top: 50px;
        }
        
        .chat-header h3 {
            font-size: 14px;
            font-weight: 600;
        }
        
        .chat-header span {
            font-size: 11px;
            opacity: 0.9;
        }
        
        .chat-messages {
            flex: 1;
            background: #f8fafc;
            padding: 12px;
            overflow-y: auto;
        }
        
        .chat-msg {
            background: white;
            padding: 10px 12px;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
            font-size: 12px;
            max-width: 85%;
            margin-bottom: 10px;
            line-height: 1.4;
        }
        
        .chat-input-area {
            padding: 12px;
            background: white;
            border-top: 1px solid #e2e8f0;
        }
        
        .chat-input-area.v3 {
            padding-bottom: 30px;
        }
        
        .input-row {
            display: flex;
            gap: 8px;
        }
        
        .input-row input {
            flex: 1;
            padding: 10px 14px;
            border: 1px solid #e2e8f0;
            border-radius: 20px;
            font-size: 13px;
        }
        
        .input-row button {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #f97316;
            border: none;
            color: white;
            font-size: 16px;
        }
        
        .wa-btn {
            width: 100%;
            padding: 12px;
            background: #25D366;
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 12px;
            margin-top: 10px;
        }
        
        /* Issues highlight */
        .issue-box {
            position: absolute;
            background: rgba(239, 68, 68, 0.9);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .issue-1 { bottom: 0; right: 0; }
        .issue-2 { top: 50%; left: 10px; transform: translateY(-50%); }
        
        .fix-box {
            position: absolute;
            background: rgba(16, 185, 129, 0.9);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .fix-1 { top: 40px; left: 10px; }
        .fix-2 { bottom: 20px; left: 10px; }
        
        /* Changes list */
        .changes {
            max-width: 900px;
            margin: 40px auto 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .change-card {
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 20px;
        }
        
        .change-card h3 {
            color: #f97316;
            font-size: 16px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .change-card ul {
            color: #e2e8f0;
            font-size: 13px;
            padding-left: 20px;
        }
        
        .change-card li {
            margin-bottom: 6px;
        }
        
        .change-card code {
            background: rgba(0,0,0,0.3);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 11px;
            color: #fcd34d;
        }
    </style>
</head>
<body>
    <h1>üì± Comparativo: V2 vs V3 Mobile</h1>
    <p class="subtitle">Clique nos bot√µes laranja para ver o chat aberto</p>
    
    <div class="comparison">
        <!-- V2 -->
        <div class="version">
            <div class="version-label">
                <span class="badge old">ANTIGA</span>
                <span class="version-name">V2 - Problemas</span>
            </div>
            <div class="phone-frame">
                <div class="phone-screen" id="phone-v2">
                    <div class="notch"></div>
                    <div class="page-bg">
                        <div class="page-header">arrematadorcaixa.com.br</div>
                        <div class="page-title">Apartamento em Recife - PE</div>
                        <div class="page-price">R$ 188.598,00</div>
                        <div class="page-info">üìç Rua Exemplo, 123 - Boa Viagem</div>
                        <div class="page-info">üè† 68,36 m¬≤ | 2 Quartos</div>
                        <div class="page-info">üí∞ 42% OFF</div>
                        <div class="page-info">‚úÖ Aceita Financiamento</div>
                    </div>
                    <div class="widget-v2" id="widget-v2">
                        <div class="toggle" onclick="toggleV2()">üí¨</div>
                    </div>
                    <div class="home-bar"></div>
                </div>
            </div>
        </div>
        
        <!-- V3 -->
        <div class="version">
            <div class="version-label">
                <span class="badge new">NOVA</span>
                <span class="version-name">V3 - Otimizada</span>
            </div>
            <div class="phone-frame">
                <div class="phone-screen" id="phone-v3">
                    <div class="notch"></div>
                    <div class="page-bg">
                        <div class="page-header">arrematadorcaixa.com.br</div>
                        <div class="page-title">Apartamento em Recife - PE</div>
                        <div class="page-price">R$ 188.598,00</div>
                        <div class="page-info">üìç Rua Exemplo, 123 - Boa Viagem</div>
                        <div class="page-info">üè† 68,36 m¬≤ | 2 Quartos</div>
                        <div class="page-info">üí∞ 42% OFF</div>
                        <div class="page-info">‚úÖ Aceita Financiamento</div>
                    </div>
                    <div class="widget-v3" id="widget-v3">
                        <div class="toggle" onclick="toggleV3()">üí¨</div>
                    </div>
                    <div class="home-bar"></div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="changes">
        <div class="change-card">
            <h3>üñ•Ô∏è Fullscreen no Mobile</h3>
            <ul>
                <li>Chat ocupa 100% da tela</li>
                <li>Sem desalinhamentos ou gaps</li>
                <li>Experi√™ncia nativa de app</li>
                <li>C√≥digo: <code>position:fixed; top:0; left:0; right:0; bottom:0</code></li>
            </ul>
        </div>
        
        <div class="change-card">
            <h3>üì± Safe Area Insets</h3>
            <ul>
                <li>Suporte a notch do iPhone X+</li>
                <li>Padding din√¢mico na home bar</li>
                <li>C√≥digo: <code>env(safe-area-inset-bottom)</code></li>
                <li>Header com padding-top para notch</li>
            </ul>
        </div>
        
        <div class="change-card">
            <h3>üëÜ Touch Otimizado</h3>
            <ul>
                <li>Bot√µes maiores (64px m√≠nimo)</li>
                <li>√Årea de toque m√≠nima 44px</li>
                <li><code>-webkit-tap-highlight-color: transparent</code></li>
                <li>Feedback visual no active</li>
            </ul>
        </div>
        
        <div class="change-card">
            <h3>‚å®Ô∏è Input Melhorado</h3>
            <ul>
                <li><code>font-size: 16px</code> para evitar zoom no iOS</li>
                <li><code>inputmode="text"</code> para teclado correto</li>
                <li>Auto-scroll quando teclado abre</li>
                <li>Body scroll bloqueado quando chat aberto</li>
            </ul>
        </div>
        
        <div class="change-card">
            <h3>üìú Scroll Suave</h3>
            <ul>
                <li><code>-webkit-overflow-scrolling: touch</code></li>
                <li><code>overscroll-behavior: contain</code></li>
                <li>Sem bounce indesejado</li>
                <li>Performance otimizada</li>
            </ul>
        </div>
        
        <div class="change-card">
            <h3>üé¨ Anima√ß√µes</h3>
            <ul>
                <li>Anima√ß√£o slide-up espec√≠fica mobile</li>
                <li><code>animation: slideUpMobile 0.3s</code></li>
                <li>Transi√ß√£o suave ao abrir/fechar</li>
                <li>Bot√£o esconde quando chat abre</li>
            </ul>
        </div>
    </div>

    <script>
        var v2Open = false;
        var v3Open = false;
        
        function toggleV2() {
            var phone = document.getElementById('phone-v2');
            var widget = document.getElementById('widget-v2');
            
            if (!v2Open) {
                widget.innerHTML = `
                    <div class="chat-open" style="position:absolute;bottom:70px;right:-20px;width:calc(100% + 35px);height:calc(100% - 50px);border-radius:16px 16px 0 0;">
                        <div class="chat-header">
                            <div>
                                <h3>Assistente Arrematador</h3>
                                <span>Especialista em Leil√µes</span>
                            </div>
                            <span style="cursor:pointer" onclick="toggleV2()">‚úï</span>
                        </div>
                        <div class="chat-messages">
                            <div class="chat-msg">Ol√°! üëã Sou o assistente virtual do Arrematador Caixa.</div>
                        </div>
                        <div class="chat-input-area">
                            <div class="input-row">
                                <input placeholder="Digite sua d√∫vida...">
                                <button>‚û§</button>
                            </div>
                            <button class="wa-btn">üì± Falar com Especialista</button>
                        </div>
                        <div class="issue-box issue-1">‚ùå right:-20px causa overflow</div>
                        <div class="issue-box issue-2">‚ùå N√£o √© fullscreen</div>
                    </div>
                `;
            } else {
                widget.innerHTML = '<div class="toggle" onclick="toggleV2()">üí¨</div>';
            }
            v2Open = !v2Open;
        }
        
        function toggleV3() {
            var phone = document.getElementById('phone-v3');
            var widget = document.getElementById('widget-v3');
            
            if (!v3Open) {
                widget.innerHTML = `
                    <div class="chat-open" style="position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;border-radius:0;">
                        <div class="chat-header v3">
                            <div>
                                <h3>Assistente Arrematador</h3>
                                <span>Especialista em Leil√µes</span>
                            </div>
                            <span style="cursor:pointer;padding:8px;" onclick="toggleV3()">‚úï</span>
                        </div>
                        <div class="chat-messages">
                            <div class="chat-msg">Ol√°! üëã Sou o assistente virtual do Arrematador Caixa.</div>
                        </div>
                        <div class="chat-input-area v3">
                            <div class="input-row">
                                <input placeholder="Digite sua d√∫vida...">
                                <button>‚û§</button>
                            </div>
                            <button class="wa-btn">üì± Falar com Especialista</button>
                        </div>
                        <div class="fix-box fix-1">‚úÖ Safe area no header</div>
                        <div class="fix-box fix-2">‚úÖ Safe area no input</div>
                    </div>
                `;
            } else {
                widget.innerHTML = '<div class="toggle" onclick="toggleV3()">üí¨</div>';
            }
            v3Open = !v3Open;
        }
    </script>
</body>
</html>
